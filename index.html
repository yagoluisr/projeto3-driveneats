<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,100;1,300;1,400&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="estilo.css">

    <title>DrivenEats</title>

</head>
<body>
    <div class="topo">
        <span>DrivenEats</span>
        <p>Sua comida em 6 minutos</p>
    </div>

    <div class="conteudo">
        <div class="prato">
            <span>Primeiro, seu prato</span>
            <div class="catalogo">
                <div class="opcao" onclick="selecionarPrato(this, 14.99)">
                    <img src="/Imagens/frango_yin_yang.png" alt="frango_yin_yang">
                    <h6>Frango Yin Yang</h6>
                    <p>Um pouco de batata, um pouco de salada</p>
                    <h5>R$14,99</h5>
                    <ion-icon name="checkmark-circle-sharp"></ion-icon>
                </div>
                <div class="opcao" onclick="selecionarPrato(this, 13.99)">
                    <img src="/Imagens/frango_yin_yang.png" alt="frango_yin_yang">
                    <h6>Frango Yin Yang</h6>
                    <p>Um pouco de batata, um pouco de salada</p>
                    <h5>R$13,99</h5>
                </div>
                <div class="opcao" onclick="selecionarPrato(this, 15.99)">
                    <img src="/Imagens/frango_yin_yang.png" alt="frango_yin_yang">
                    <h6>Frango Yin Yang</h6>
                    <p>Um pouco de batata, um pouco de salada</p>
                    <h5>R$15,99</h5> 
                </div>
                <div class="opcao" onclick="selecionarPrato(this, 14.50)">
                    <img src="/Imagens/frango_yin_yang.png" alt="frango_yin_yang">
                    <h6>Frango Yin Yang</h6>
                    <p>Um pouco de batata, um pouco de salada</p>
                    <h5>R$14,50</h5> 
                </div>
                
            </div>
        </div>
        <div class="bebida">
            <span>Escolha sua bebida</span>
            <div class="catalogo">
                <div class="opcao" onclick="selecionarBebida(this, 4.99)">
                    <img src="/Imagens/coquinha_gelada.png" alt="coquinha_gelada">
                    <h6>Coquinha gelada</h6>
                    <p>Lata 350ml</p>
                    <h5>R$4,99</h5>
                </div>
                <div class="opcao" onclick="selecionarBebida(this, 3.99)">
                    <img src="/Imagens/coquinha_gelada.png" alt="coquinha_gelada">
                    <h6>Coquinha gelada</h6>
                    <p>Lata 350ml</p>
                    <h5>R$3,99</h5>
                </div>
                <div class="opcao" onclick="selecionarBebida(this, 4.50)">
                    <img src="/Imagens/coquinha_gelada.png" alt="coquinha_gelada">
                    <h6>Coquinha gelada</h6>
                    <p>Lata 350ml</p>
                    <h5>R$4,50</h5>
                </div>
                <div class="opcao" onclick="selecionarBebida(this, 4.25)">
                    <img src="/Imagens/coquinha_gelada.png" alt="coquinha_gelada">
                    <h6>Coquinha gelada</h6>
                    <p>Lata 350ml</p>
                    <h5>R$4,25</h5>
                </div>
            </div>
        </div>    
        <div class="sobremesa">
            <span>Escolha sua sobremesa</span>
            <div class="catalogo">
                <div class="opcao" onclick="selecionarSobremesa(this, 7.99)">
                    <img src="/Imagens/pudim.png.png" alt="pudim">
                    <h6>Pudim</h6>
                    <p>Apenas pudim</p>
                   <h5>R$7,99</h5>
                    
                </div>
                <div class="opcao" onclick="selecionarSobremesa(this, 6.99)">
                    <img src="/Imagens/pudim.png.png" alt="pudim">
                    <h6>Pudim</h6>
                    <p>Apenas pudim</p>
                    <h5>R$6,99</h5>
                </div>
                <div class="opcao" onclick="selecionarSobremesa(this, 8.99)"> 
                    <img src="/Imagens/pudim.png.png" alt="pudim">
                    <h6>Pudim</h6>
                    <p>Apenas pudim</p>
                    <h5>R$8,99</h5>
                    
                </div>
                <div class="opcao" onclick="selecionarSobremesa(this, 5.99)"> 
                    <img src="/Imagens/pudim.png.png" alt="pudim">
                    <h6>Pudim</h6>
                    <p>Apenas pudim</p>
                    <h5>R$5,99</h5>
            </div>
        </div>
    </div>

    <div class="barra-inferior">
        <button class="botao" onclick="fecharPedido()">
            Selecione os 3 itens para fechar o pedido
        </button>
    </div>

<script>
    let selecionarPratos;
    let selecionarBebidas;
    let selecionarSobremesas;

    let precoPrato = 0;
    let precoBebida = 0;
    let precoSobremesa = 0;
    
    const botao = document.querySelector(".botao");
    botao.disabled = true;

    function selecionarPrato(todaDiv, valor){
        precoPrato = valor;
        selecionarPratos = todaDiv.innerHTML;
        
        const borda = document.querySelector(".prato .selecionado");
        
        if(borda !== null){
            borda.classList.remove("selecionado");
        }
            todaDiv.classList.add("selecionado");
        liberarBotao();
    }

    function selecionarBebida(todaDiv, valor){
        precoBebida = valor;
        selecionarBebidas = todaDiv.innerHTML;

        const borda = document.querySelector(".bebida .selecionado");
        
        if(borda !== null){
            borda.classList.remove("selecionado");
        }
            todaDiv.classList.add("selecionado");
        liberarBotao();
    }

    function selecionarSobremesa(todaDiv, valor){
        precoSobremesa = valor;

        selecionarSobremesas = todaDiv.innerHTML;

        const borda = document.querySelector(".sobremesa .selecionado");
        
        if(borda !== null){
            borda.classList.remove("selecionado");
        }
            todaDiv.classList.add("selecionado");
        liberarBotao();
    }

    function liberarBotao(){
                
        if (selecionarPratos && selecionarBebidas && selecionarSobremesas){
            botao.classList.add("botao-pedido");
            botao.innerHTML = "Fechar Pedido";  
            botao.disabled = false;
       } 
    }

    function fecharPedido(){
        const total = precoPrato + precoBebida + precoSobremesa;
        let mensagem = `Ol√°, gostaria de fazer o pedido:\n- Prato: ${precoPrato}\n- Bebida: ${precoBebida}\n- Sobremesa: ${precoSobremesa}\nTotal: R$ ${total.toFixed(2)}`;

        let url = "https://wa.me/5521969141340?text=" + encodeURIComponent(mensagem);
        window.open(url);        
    }
    


</script>
</body>
</html>